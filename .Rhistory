data_list_no_header <- map2(.x = data_list_no_header,
.y = names(data_list_no_header),
.f = add_file_name)
instructions$file_name <- paste(volunteer_id, "instruction_command.csv",
sep = "_")
instructions
data_list_no_header[[1]]
## left hand/arm
instructions_time <- data_list_no_header[[1]]
acc_data_left <- data_list_no_header[[2]]
acc_time_left <- data_list_no_header[[3]]
eda_data_left <- data_list_no_header[[4]]
eda_time_left <- data_list_no_header[[5]]
## right hand/arm
acc_data_right <- data_list_no_header[[6]]
acc_time_right <- data_list_no_header[[7]]
eda_data_right <- data_list_no_header[[8]]
eda_time_right <- data_list_no_header[[9]]
## define headers
annotations_acc <- c("x_axis_acc", "y_axis_acc", "z_axis_acc", "row_index")
annotations_eda <- c("eda", "row_index")
annotations_time <- c("time", "row_index")
## add headers
names(instructions_time) <- annotations_time
names(acc_data_left) <- annotations_acc
## add headers
names(instructions_time) <- annotations_time
names(acc_data_left) <- annotations_acc
instructions_time
acc_data_right
## define headers
annotations_acc <- c("x_axis_acc",
"y_axis_acc",
"z_axis_acc",
"row_index",
"file_name"
)
annotations_eda <- c("eda",
"row_index",
"file_name"
)
annotations_time <- c("time",
"row_index",
"file_names"
)
## add headers
names(instructions_time) <- annotations_time
names(acc_data_left) <- annotations_acc
names(acc_data_right) <- annotations_acc
names(eda_data_left) <- annotations_eda
names(eda_data_right) <- annotations_eda
names(eda_time_left) <- annotations_time
names(eda_time_right) <- annotations_time
names(acc_time_left) <- annotations_time
names(acc_time_right) <- annotations_time
##inspect
instructions
instructions_time
annotations_time <- c("time",
"row_index",
"file_name"
)
## add headers
names(instructions_time) <- annotations_time
names(acc_data_left) <- annotations_acc
names(acc_data_right) <- annotations_acc
names(eda_data_left) <- annotations_eda
names(eda_data_right) <- annotations_eda
names(eda_time_left) <- annotations_time
names(eda_time_right) <- annotations_time
names(acc_time_left) <- annotations_time
names(acc_time_right) <- annotations_time
##inspect
instructions
instructions_time
acc_data_left
acc_data_right
acc_time_left
acc_time_right
eda_data_left
eda_data_right
eda_time_left
eda_time_right
## join data and time
instructions_join <- left_join(instructions,
instructions_time,
by = "row_index")
acc_join_left <- dplyr::left_join(
acc_data_left,
acc_time_left
) %>%
dplyr::mutate(side = "left")
acc_join_left <- dplyr::left_join(
acc_data_left,
acc_time_left,
by = "row_index"
) %>%
dplyr::mutate(side = "left")
acc_join_left
acc_join_left <- dplyr::left_join(
acc_data_left,
acc_time_left
) %>%
dplyr::mutate(side = "left")
acc_join_left
## dummies
path = here::here("data-raw", "subject01.zip")
path_out = here::here("data-raw", "subject01")
devtools::document()
library(artefacts)
library(edartefacts)
?edartefacts
library(edartefacts)
?edartefacts
library(edartefacts)
?edartefacts
devtools::document()
library(edartefacts)
?edartefacts
usethis::use_vignette("edartefacts-plots", "Visualizing edartefacts datasets")
## packages
library(tidyverse)
library(here)
## dummies
path = here::here("data-raw", "subject01.zip")
path_out = here::here("data-raw", "subject01")
volunteer_id = "subject01"
## volunteer 1
data_volunteer_1 <- artefacts::parse_raw_data(
path = path,
path_out = path_out,
volunteer_id = "subject01"
) %>%
print()
usethis::use_data(data_volunteer_1)
usethis::use_data(data_volunteer_1, overwrite = TRUE)
## all_volunteers
## volunteer ids
volunteer_ids <- paste("volunteer", c(1:15), sep = "_")
## all_volunteers
## volunteer ids
volunteer_ids <- paste0("sunbject", c("01":"15"))
volunteer_ids
## all_volunteers
## volunteer ids
volunteer_ids <- paste0("sunbject", c("01":"15"))
volunteer_ids
## all_volunteers
## volunteer ids
volunteer_ids <- read_lines(here::here("data-raw", "subjects.txt"),
skip = 1)
## all_volunteers
## volunteer ids
volunteer_ids <- read_lines(here::here("data-raw", "subjects.txt"),
skip = 1)
volunteer_ids
## dummies
path = here::here("data-raw", "zip_archives", "subject01.zip")
path_out = here::here("data-raw", "unzipped")
volunteer_id = "subject01"
## volunteer 1
data_volunteer_1 <- artefacts::parse_raw_data(
path = path,
path_out = path_out,
volunteer_id = "subject01"
) %>%
print()
## paths
path = here::here("data-raw", "zip_archives")
## paths
path = here::here("data-raw", "zip_archives")
path_out = here::here("data-raw", "unzipped")
list_archives <- list.files(path = path,
full.names = TRUE)
list_archives
x <- purrr::map2(.x = list_archives,
.f = parse_raw_data,
path_out = path_out,
.y = volunteer_ids)
y <- x %>% purrr::transpose()
y
y$instructions[[1]]
y$instructions[[14]]
y$instructions[[15]]
y$instructions[[5]]
data_full <- purrr::map2(.x = list_archives,
.f = parse_raw_data,
path_out = path_out,
.y = volunteer_ids)
data_full_transposed <- x %>% purrr::transpose()
## acceleration data
data_acceleration_all <- y$acceleration %>% dplyr::bind_rows()
## eda data
data_eda_all <- y$`skin-conductance` %>% dplyr::bind_rows()
data_full_transposed <- data_full %>%
purrr::transpose()
## acceleration data
data_acceleration_all <- data_full_transposed$acceleration %>%
dplyr::bind_rows()
## eda data
data_eda_all <- data_full_transposed$`skin-conductance` %>%
dplyr::bind_rows()
## instructions
instructions_data <- data_full_transposed$instructions %>%
dplyr::bind_rows()
## add datasets
usethis::use_data(data_acceleration_all)
## instructions
data_instructions_all <- data_full_transposed$instructions %>%
dplyr::bind_rows()
## add datasets
usethis::use_data(data_acceleration_all, overwrite = TRUE)
usethis::use_data(data_eda_all, overwrite = TRUE)
usethis::use_data(data_instructions_all, overwrite = TRUE)
devtools::document()
data(package = "edartefacts")
data(package = "edartefacts", "data_accelaration_all")
data(package = "edartefacts", "data_acceleration_all")
library(tidyverse)
data(package = "edartefacts")
data(package = "edartefacts", "data_acceleration_all")
data(package = "edartefacts", "data_eda_all")
data(package = "edartefacts", "data_instructions_all") ## or
acc <- edartefacts::data_acceleration_all
eda <- edartefacts::data_eda_all
ins <- edartefacts::data_instructions_all
View(acc)
View(acc)
View(acc)
View(acc)
View(acc)
View(acc)
acc %>%
dplyr::filter(volunteer_id == "subject09") %>%
gather(x_axis_acc:z_axis_acc, key = "axis", value = "acceleration")
acc %>%
dplyr::filter(volunteer_id == "subject09") %>%
gather(x_axis_acc:z_axis_acc, key = "axis", value = "acceleration") %>%
group_by(side, axis) %>%
ggplot(aes(x = time,
y = acceleration)) +
geom_point() +
facet_wrap(~ axis)
acc %>%
dplyr::filter(volunteer_id == "subject09") %>%
gather(x_axis_acc:z_axis_acc, key = "axis", value = "acceleration")
acc %>%
dplyr::filter(volunteer_id == "subject09") %>%
gather(x_axis_acc:z_axis_acc, key = "axis", value = "acceleration") %>%
group_by(side, axis) %>%
ggplot(aes(x = time,
y = acceleration)) +
geom_point(aes(colour = side)) +
facet_wrap(~ axis)
edartefacts::data_acceleration_all %>%
dplyr::filter(volunteer_id == subject) %>%
gather(x_axis_acc:z_axis_acc, key = "axis", value = "acceleration") %>%
group_by(side, axis) %>%
ggplot(aes(x = time,
y = acceleration)) +
geom_point(aes(colour = side)) +
facet_wrap(~ axis)
devtools::document()
edartefacts::plot_subject_acceleration()
acc <- edartefacts::data_acceleration_all
eda <- edartefacts::data_eda_all
ins <- edartefacts::data_instructions_all
eda %>%
dplyr::filter(volunteer_id == "subject09") %>%
gather(x_axis_acc:z_axis_acc, key = "axis", value = "acceleration") %>%
group_by(side, axis) %>%
ggplot(aes(x = time,
y = acceleration)) +
geom_point(aes(colour = side)) +
facet_wrap(~ axis)
library(edartefacts)
library(tidyverse)
eda %>%
dplyr::filter(volunteer_id == "subject09") %>%
gather(x_axis_acc:z_axis_acc, key = "axis", value = "acceleration") %>%
group_by(side, axis) %>%
ggplot(aes(x = time,
y = acceleration)) +
geom_point(aes(colour = side)) +
facet_wrap(~ axis)
View(eda)
eda %>%
dplyr::filter(volunteer_id == "subject09") %>%
group_by(side, axis) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~ axis)
eda %>%
dplyr::filter(volunteer_id == "subject09") %>%
group_by(side, axis) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side))
eda %>%
dplyr::filter(volunteer_id == "subject09") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side))
eda %>%
dplyr::filter(volunteer_id == "subject09") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side)
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side)
## toolboxr
devtools::install_github("uashogeschoolutrecht/toolboxr")
library(toolboxr)
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side) +
rotate_axis_labels(axis = "x", angle = 90)
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = log10(eda))) +
geom_point(aes(colour = side)) +
facet_wrap(~side) +
rotate_axis_labels(axis = "x", angle = 90)
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = log10(eda))) +
geom_point(aes(colour = side)) +
facet_wrap(~side) +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(1000, 9e+05))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = log10(eda))) +
geom_point(aes(colour = side)) +
facet_wrap(~side) +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(10000, 90000))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = log10(eda))) +
geom_point(aes(colour = side)) +
facet_wrap(~side) +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(25000, 90000))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side) +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(25000, 90000))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(25000, 90000))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(25000, 90000)) +
ylim(c(0, 25))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(25000, 90000)) +
ylim(c(0, 10))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(25000, 90000)) +
ylim(c(2.5, 7.5))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(25000, 90000)) +
ylim(c(4, 7))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(10000, 90000)) +
ylim(c(4, 7))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(15000, 90000)) +
ylim(c(4, 7))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side)) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(20000, 90000)) +
ylim(c(4, 7))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side), size = 0.5) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(20000, 90000)) +
ylim(c(4, 7))
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side), size = 0.2) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(20000, 90000)) +
ylim(c(4, 7))
devtools::document()
# Chunk 1
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
# Chunk 2: setup
library(edartefacts)
library(tidyverse)
## toolboxr
devtools::install_github("uashogeschoolutrecht/toolboxr")
library(toolboxr)
# Chunk 3
data(package = "edartefacts")
data(package = "edartefacts", "data_acceleration_all")
data(package = "edartefacts", "data_eda_all")
data(package = "edartefacts", "data_instructions_all") ## or
# Chunk 5
acc %>%
dplyr::filter(volunteer_id == "subject09") %>%
gather(x_axis_acc:z_axis_acc, key = "axis", value = "acceleration") %>%
group_by(side, axis) %>%
ggplot(aes(x = time,
y = acceleration)) +
geom_point(aes(colour = side)) +
facet_wrap(~ axis)
# Chunk 6
eda %>%
dplyr::filter(volunteer_id == "subject11") %>%
group_by(side) %>%
ggplot(aes(x = time,
y = eda)) +
geom_point(aes(colour = side), size = 0.2) +
facet_wrap(~side, scales = "free") +
rotate_axis_labels(axis = "x", angle = 90) +
xlim(c(20000, 90000)) +
ylim(c(4, 7))
## with the package
plot_subject_eda(subject = "subject01")
